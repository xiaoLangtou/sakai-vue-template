# Sakai Vue 组件库使用文档

本文档详细介绍了 Sakai Vue 项目中所有可用组件的使用方法、属性、事件和示例。

## 📋 目录

- [ConfigurableTable - 可配置表格组件](#configurabletable---可配置表格组件)
- [CustomDrawer - 自定义抽屉组件](#customdrawer---自定义抽屉组件)
- [FloatingConfigurator - 浮动配置器](#floatingconfigurator---浮动配置器)
- [SmartFormField - 智能表单字段](#smartformfield---智能表单字段)
- [IconSelector - 图标选择器](#iconselector---图标选择器)
- [OrgSelector - 组织架构选择器](#orgselector---组织架构选择器)
- [ListSearch - 列表搜索组件](#listsearch---列表搜索组件)
- [PageContainer - 页面容器](#pagecontainer---页面容器)
- [PageHeader - 页面头部](#pageheader---页面头部)
- [PageLoading - 页面加载](#pageloading---页面加载)
- [UserProfile - 用户资料](#userprofile---用户资料)
- [TableColumnSettings - 表格列设置](#tablecolumnsettings---表格列设置)

---

## ConfigurableTable - 可配置表格组件

### 📝 描述

基于 PrimeVue DataTable 封装的高度可配置表格组件，提供了丰富的功能和优秀的用户体验。

### ✨ 特性

- 🔧 **高度可配置**: 支持列配置、样式设置、表格设置等
- 🔍 **集成搜索**: 内置 ListSearch 组件，支持多种筛选类型
- 📊 **状态持久化**: 支持表格状态的本地存储和恢复
- 🎨 **样式定制**: 支持多种表格样式和主题
- 📱 **响应式设计**: 适配不同屏幕尺寸
- ⚡ **虚拟滚动**: 支持大数据量的虚拟滚动
- 🔄 **拖拽排序**: 支持列的拖拽排序
- 📌 **列固定**: 支持左右列固定
- 🎯 **多选支持**: 支持行选择和批量操作

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| value | T[] | [] | 表格数据 |
| columns | TableColumns<T> | [] | 列配置 |
| dataKey | string | 'id' | 数据唯一标识字段 |
| showGridlines | boolean | true | 是否显示网格线 |
| paginator | boolean | true | 是否启用分页 |
| rows | number | 10 | 每页显示行数 |
| scrollable | boolean | true | 是否可滚动 |
| current | number | 1 | 当前页 |
| totalRecords | number | 0 | 总记录数 |
| loading | boolean | false | 是否加载中 |
| showColumnSettings | boolean | true | 是否显示列设置按钮 |
| title | string | '' | 表格标题 |
| size | 'small' \| 'normal' \| 'large' | 'normal' | 表格尺寸 |
| virtualScroll | boolean | false | 是否启用虚拟滚动 |
| persistState | boolean | false | 是否启用状态持久化 |
| selectionMode | 'single' \| 'multiple' | undefined | 选择模式 |
| filterConfigs | FilterConfig[] | [] | 筛选配置 |

### 🎯 Events

| 事件名 | 参数 | 说明 |
|--------|------|---------|
| update:columns | columns: TableColumns<T> | 列配置更新 |
| update:selection | selection: T \| T[] | 选择更新 |
| column-change | column, type | 列变更事件 |
| row-click | event | 行点击事件 |
| row-dblclick | event | 行双击事件 |
| selection-change | selection: T[] | 选择变化事件 |
| filter-change | params: SearchParams | 筛选变化事件 |
| refresh | - | 刷新事件 |
| page | event | 分页事件 |
| sort | event | 排序事件 |

### 🎨 Slots

| 插槽名 | 参数 | 说明 |
|--------|------|---------|
| column-{field} | slotProps | 自定义列内容 |
| empty | - | 空状态内容 |
| loading | - | 加载状态内容 |
| column-label | { column } | 自定义列标签 |

### 💡 使用示例

```vue
<template>
  <ConfigurableTable
    v-model:columns="columns"
    v-model:selection="selectedRows"
    :value="tableData"
    :loading="loading"
    :total-records="total"
    :filter-configs="filterConfigs"
    :persist-state="true"
    persist-state-key="user-table"
    @refresh="handleRefresh"
    @filter-change="handleFilterChange"
  >
    <!-- 自定义列内容 -->
    <template #column-actions="{ data }">
      <Button icon="pi pi-edit" @click="editUser(data)" />
      <Button icon="pi pi-trash" severity="danger" @click="deleteUser(data)" />
    </template>
  </ConfigurableTable>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { ConfigurableTable } from '@/components';
import type { TableColumns } from '@/composables/useColumns';

const columns = ref<TableColumns>([
  { field: 'name', header: '姓名', sortable: true },
  { field: 'email', header: '邮箱', sortable: true },
  { field: 'status', header: '状态', sortable: true },
  { key: 'actions', header: '操作', width: '120px' }
]);

const tableData = ref([]);
const selectedRows = ref([]);
const loading = ref(false);
const total = ref(0);

const filterConfigs = [
  {
    key: 'status',
    label: '状态',
    type: 'select',
    options: [
      { label: '全部', value: '' },
      { label: '启用', value: 'active' },
      { label: '禁用', value: 'inactive' }
    ]
  }
];

const handleRefresh = () => {
  // 刷新逻辑
};

const handleFilterChange = (params) => {
  // 筛选逻辑
};
</script>
```

---

## CustomDrawer - 自定义抽屉组件

### 📝 描述

基于 PrimeVue Drawer 封装的自定义抽屉组件，提供了更便捷的使用方式和额外的功能。

### ✨ 特性

- 基于 PrimeVue Drawer 组件封装
- 支持自定义确认和取消按钮
- 提供丰富的插槽支持
- 支持多种位置和尺寸
- TypeScript 支持
- 完整的事件处理

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| visible | boolean | false | 抽屉是否可见 |
| position | string | 'right' | 抽屉位置 |
| header | string | '' | 抽屉标题 |
| modal | boolean | true | 是否为模态框 |
| dismissable | boolean | true | 是否可通过点击遮罩关闭 |
| showCloseIcon | boolean | true | 是否显示关闭图标 |
| showContent | boolean | true | 是否显示内容区域 |
| showDefaultFooter | boolean | false | 是否显示默认底部 |
| showConfirmButton | boolean | true | 是否显示确认按钮 |
| showCancelButton | boolean | true | 是否显示取消按钮 |
| confirmButtonText | string | '确定' | 确认按钮文本 |
| cancelButtonText | string | '取消' | 取消按钮文本 |
| confirmButtonIcon | string | '' | 确认按钮图标 |
| cancelButtonIcon | string | '' | 取消按钮图标 |
| confirmLoading | boolean | false | 确认按钮加载状态 |

### 🎯 Events

| 事件名 | 参数 | 说明 |
|--------|------|---------|
| update:visible | value: boolean | 可见性更新事件 |
| show | - | 显示事件 |
| after-show | - | 显示后事件 |
| hide | - | 隐藏事件 |
| after-hide | - | 隐藏后事件 |
| before-hide | - | 隐藏前事件 |
| cancel | - | 取消事件 |
| confirm | - | 确认事件 |

### 🎨 Slots

| 插槽名 | 参数 | 说明 |
|--------|------|---------|
| default | - | 默认插槽，用于放置抽屉的主体内容 |
| header | - | 头部插槽，用于自定义抽屉头部内容 |
| closebutton | closeCallback | 关闭按钮插槽，用于自定义关闭按钮 |
| closeicon | - | 关闭图标插槽，用于自定义关闭图标 |
| footer | - | 底部插槽，用于自定义抽屉底部内容 |

### 💡 使用示例

```vue
<template>
  <div>
    <Button label="打开抽屉" @click="visible = true" />
    
    <CustomDrawer
      v-model:visible="visible"
      header="抽屉标题"
      :show-default-footer="true"
      @confirm="handleConfirm"
      @cancel="handleCancel"
    >
      <p>这里是抽屉的内容</p>
    </CustomDrawer>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { CustomDrawer } from '@/components';

const visible = ref(false);

const handleConfirm = () => {
  console.log('确认操作');
  visible.value = false;
};

const handleCancel = () => {
  console.log('取消操作');
};
</script>
```

---

## FloatingConfigurator - 浮动配置器

### 📝 描述

浮动在页面右上角的配置器组件，提供主题切换和应用配置功能。

### ✨ 特性

- 固定在页面右上角
- 支持深色/浅色主题切换
- 集成应用配置器
- 现代化的浮动设计
- 响应式布局

### 💡 使用示例

```vue
<template>
  <FloatingConfigurator />
</template>

<script setup lang="ts">
import { FloatingConfigurator } from '@/components';
</script>
```

---

## SmartFormField - 智能表单字段

### 📝 描述

基于 PrimeVue Forms 的智能表单字段组件，提供了统一的表单字段布局和验证功能。

### ✨ 特性

- 基于 PrimeVue Forms 封装
- 支持行内和垂直布局
- 自动错误信息显示
- 支持必填字段标识
- 完整的 TypeScript 支持
- 灵活的插槽系统

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| name | string | - | 表单字段名称（必填） |
| label | string | '' | 表单字段标签文本 |
| initialValue | any | '' | 表单字段初始值 |
| resolver | any | - | 表单验证解析器 |
| required | boolean | false | 是否为必填字段 |
| description | string | '' | 表单字段描述文本 |
| class | string \| object | '' | 自定义CSS类名 |
| inline | boolean | false | 是否使用行内模式 |
| labelWidth | number \| string | '' | 标签宽度 |

### 🎨 Slots

| 插槽名 | 参数 | 说明 |
|--------|------|---------|
| default | { value, onInput, onBlur, onChange, invalid, field } | 表单字段内容插槽 |

### 💡 使用示例

```vue
<template>
  <Form @submit="onSubmit">
    <SmartFormField
      name="username"
      label="用户名"
      :required="true"
      description="请输入用户名"
    >
      <template #default="{ field }">
        <InputText
          v-model="field.value"
          :invalid="field.invalid"
          @input="field.onInput"
          @blur="field.onBlur"
        />
      </template>
    </SmartFormField>
    
    <SmartFormField
      name="email"
      label="邮箱"
      :required="true"
      inline
      label-width="100px"
    >
      <template #default="{ field }">
        <InputText
          v-model="field.value"
          type="email"
          :invalid="field.invalid"
          @input="field.onInput"
          @blur="field.onBlur"
        />
      </template>
    </SmartFormField>
  </Form>
</template>

<script setup lang="ts">
import { SmartFormField } from '@/components';
import { Form } from '@primevue/forms';

const onSubmit = (data) => {
  console.log('表单数据:', data);
};
</script>
```

---

## IconSelector - 图标选择器

### 📝 描述

功能丰富的图标选择器组件，支持下拉选择和弹窗选择两种模式，具有现代化的设计和优秀的用户体验。

### ✨ 特性

- **多种显示模式**: 支持下拉选择框和输入框+按钮两种模式
- **双图标库支持**: 内置 PrimeVue 和 Lucide 图标库，支持切换
- **智能搜索**: 支持图标名称和标签的实时搜索过滤
- **现代化设计**: 采用 PrimeVue 设计系统，支持主题切换
- **响应式布局**: 完美适配桌面端和移动端
- **丰富的交互**: 悬停效果、选中状态、动画过渡
- **实时预览**: 选择图标后即时显示预览效果
- **高度可定制**: 支持自定义图标列表、样式和文本

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| modelValue | string | '' | 当前选中的图标 |
| mode | 'dropdown' \| 'input' | 'dropdown' | 显示模式 |
| placeholder | string | '请选择图标' | 占位符文本 |
| filter | boolean | true | 是否启用过滤（下拉模式） |
| filterPlaceholder | string | '搜索图标' | 过滤占位符 |
| showClear | boolean | true | 是否显示清除按钮 |
| showPreview | boolean | true | 是否显示图标预览 |
| previewText | string | '图标预览' | 预览文本 |
| invalid | boolean | false | 是否无效状态 |
| disabled | boolean | false | 是否禁用 |
| drawerTitle | string | '选择图标' | 弹窗标题 |
| drawerDescription | string | '选择一个图标作为菜单图标' | 弹窗描述 |
| enableSearch | boolean | true | 是否启用搜索 |
| customIcons | IconItem[] | [] | 自定义图标列表 |
| defaultLibrary | 'primevue' \| 'lucide' | 'primevue' | 默认图标库 |
| enabledLibraries | IconLibrary[] | ['primevue', 'lucide'] | 启用的图标库 |
| showLibraryTabs | boolean | true | 是否显示图标库切换标签 |

### 🎯 Events

| 事件名 | 参数 | 说明 |
|--------|------|---------|
| update:modelValue | (value: string) | 值更新事件 |
| change | (value: string) | 图标改变事件 |

### 💡 使用示例

```vue
<template>
  <!-- 下拉选择框模式 -->
  <IconSelector
    v-model="selectedIcon"
    mode="dropdown"
    placeholder="请选择图标"
    show-preview
  />
  
  <!-- 输入框+按钮模式 -->
  <IconSelector
    v-model="selectedIcon"
    mode="input"
    placeholder="请输入图标类名"
    show-preview
    preview-text="图标预览"
  />
  
  <!-- 双图标库支持 -->
  <IconSelector
    v-model="selectedIcon"
    :enabled-libraries="['primevue', 'lucide']"
    default-library="lucide"
    show-library-tabs
  />
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { IconSelector } from '@/components';

const selectedIcon = ref('');
</script>
```

---

## OrgSelector - 组织架构选择器

### 📝 描述

基于飞书组织架构选人功能的Vue 3 + TypeScript实现，支持多层级部门结构、人员搜索、多选/单选等功能。

### ✨ 特性

- 🌲 **树状结构**: 支持多层级部门嵌套
- 🔍 **智能搜索**: 支持部门名称、人员姓名、职位模糊搜索
- 🎯 **多选模式**: 支持单选、多选、仅选人员等模式
- 🧭 **面包屑导航**: 清晰的层级导航
- 📱 **响应式设计**: 适配移动端和桌面端
- 🎨 **现代化UI**: 基于Ant Design Vue的美观界面
- 🔧 **TypeScript**: 完整的类型定义支持
- ⚡ **高性能**: 基于Vue 3 Composition API

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| data | OrgData | {} | 组织架构数据 |
| multiple | boolean | true | 是否支持多选 |
| onlySelectPerson | boolean | false | 是否只能选择人员 |

### 🎯 Events

| 事件名 | 参数 | 说明 |
|--------|------|---------|
| change | selectedItems: (Staff \| Department)[] | 选择项发生变化时触发 |

### 💡 使用示例

```vue
<template>
  <OrgSelector
    :data="orgData"
    :multiple="true"
    :only-select-person="false"
    @change="handleSelectionChange"
  />
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { OrgSelector } from '@/components';
import type { OrgData } from '@/utils/org-tree';

const orgData = ref<OrgData>({
  children: [
    {
      id: 'dept-001',
      name: '技术研发部',
      children: [
        {
          id: 'dept-001-001',
          name: '前端开发组',
          children: [],
          staffs: [
            { idStaff: 'staff-001', staffName: '张三', position: '前端工程师' }
          ]
        }
      ],
      staffs: [
        { idStaff: 'staff-002', staffName: '技术总监', position: '技术总监' }
      ]
    }
  ]
});

const handleSelectionChange = (selectedItems) => {
  console.log('选中的项目:', selectedItems);
};
</script>
```

---

## ListSearch - 列表搜索组件

### 📝 描述

基于 Vue3、PrimeVue 和 TypeScript 的高可用、低耦合列表搜索解决方案。

### ✨ 特性

- 🚀 **高性能**: 内置防抖机制，优化搜索性能
- 🎯 **类型安全**: 完整的 TypeScript 类型定义
- 🔧 **高度可配置**: 支持多种筛选类型和自定义配置
- 📱 **响应式设计**: 适配不同屏幕尺寸
- 🎨 **美观界面**: 基于 PrimeVue 组件库的现代化 UI
- 🔄 **状态管理**: 完整的搜索状态管理和持久化
- 🧩 **低耦合**: 组件化设计，易于集成和扩展

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| searchParams | SearchParams | - | 搜索参数（v-model） |
| filterConfigs | FilterConfig[] | [] | 筛选配置 |
| loading | boolean | false | 加载状态 |
| total | number | 0 | 总结果数 |
| placeholder | string | '请输入搜索关键词' | 搜索框占位符 |
| showAdvanced | boolean | true | 是否显示高级筛选 |
| showStatus | boolean | true | 是否显示搜索状态 |
| debounceMs | number | 300 | 防抖延迟时间 |

### 🎯 Events

| 事件名 | 参数 | 说明 |
|--------|------|---------|
| search | SearchParams | 搜索事件 |
| reset | - | 重置事件 |
| filter-change | { key: string, value: any } | 筛选变化事件 |

### 💡 使用示例

```vue
<template>
  <div>
    <ListSearch
      v-model:search-params="searchParams"
      :filter-configs="filterConfigs"
      :loading="loading"
      :total="total"
      placeholder="请输入搜索关键词"
      @search="handleSearch"
      @reset="handleReset"
    />
    
    <!-- 你的数据展示组件 -->
    <DataTable :value="data" :loading="loading">
      <!-- 表格列定义 -->
    </DataTable>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { ListSearch } from '@/components';
import type { FilterConfig, SearchParams } from '@/components/search';

const searchParams = ref<SearchParams>({
  keyword: '',
  filters: {},
  pagination: { page: 1, size: 10 },
  sorting: { field: '', order: 'asc' }
});

const filterConfigs: FilterConfig[] = [
  {
    key: 'status',
    label: '状态',
    type: 'select',
    options: [
      { label: '全部', value: '' },
      { label: '启用', value: 'active' },
      { label: '禁用', value: 'inactive' }
    ]
  }
];

const loading = ref(false);
const total = ref(0);
const data = ref([]);

const handleSearch = async (params: SearchParams) => {
  loading.value = true;
  try {
    // 调用你的 API
    const result = await searchAPI(params);
    data.value = result.data;
    total.value = result.total;
  } finally {
    loading.value = false;
  }
};

const handleReset = () => {
  // 重置逻辑
  data.value = [];
  total.value = 0;
};
</script>
```

---

## PageContainer - 页面容器

### 📝 描述

基础的页面容器组件，提供统一的页面布局结构。

### ✨ 特性

- 统一的页面布局结构
- 内置 Toast 和 ConfirmDialog 组件
- 支持头部和内容区域插槽
- 响应式设计
- 简洁的样式

### 🎨 Slots

| 插槽名 | 参数 | 说明 |
|--------|------|---------|
| header | - | 页面头部内容 |
| default | - | 页面主要内容 |

### 💡 使用示例

```vue
<template>
  <PageContainer>
    <template #header>
      <PageHeader title="页面标题" description="页面描述" />
    </template>
    
    <!-- 页面主要内容 -->
    <div class="page-content">
      <p>这里是页面的主要内容</p>
    </div>
  </PageContainer>
</template>

<script setup lang="ts">
import { PageContainer, PageHeader } from '@/components';
</script>
```

---

## PageHeader - 页面头部

### 📝 描述

页面头部组件，提供标题、描述、返回按钮和操作按钮等功能。

### ✨ 特性

- 支持标题和描述显示
- 可选的返回按钮
- 支持自定义图标
- 操作按钮区域
- 状态标签支持
- 面包屑导航支持
- 响应式设计

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| title | string | '' | 页面标题 |
| description | string | '' | 页面描述 |
| showBackButton | boolean | true | 是否显示返回按钮 |
| backIcon | string | 'pi pi-arrow-left' | 返回按钮图标 |
| backAriaLabel | string | '返回' | 返回按钮无障碍标签 |
| titleClass | string | '' | 标题自定义样式类 |
| descriptionClass | string | '' | 描述自定义样式类 |

### 🎯 Events

| 事件名 | 参数 | 说明 |
|--------|------|---------|
| back | - | 返回按钮点击事件 |

### 🎨 Slots

| 插槽名 | 参数 | 说明 |
|--------|------|---------|
| breadcrumb | - | 面包屑导航 |
| icon | - | 自定义图标 |
| title | - | 自定义标题 |
| description | - | 自定义描述 |
| status | - | 状态标签 |
| actions | - | 操作按钮 |
| default | - | 扩展内容 |

### 💡 使用示例

```vue
<template>
  <PageHeader
    title="用户管理"
    description="管理系统用户信息"
    :show-back-button="true"
    @back="handleBack"
  >
    <template #breadcrumb>
      <Breadcrumb :model="breadcrumbItems" />
    </template>
    
    <template #status>
      <Tag value="活跃" severity="success" />
    </template>
    
    <template #actions>
      <Button label="新增用户" icon="pi pi-plus" @click="addUser" />
      <Button label="导出" icon="pi pi-download" severity="secondary" @click="exportData" />
    </template>
  </PageHeader>
</template>

<script setup lang="ts">
import { PageHeader } from '@/components';

const breadcrumbItems = [
  { label: '首页', to: '/' },
  { label: '系统管理', to: '/system' },
  { label: '用户管理' }
];

const handleBack = () => {
  // 返回逻辑
};

const addUser = () => {
  // 新增用户逻辑
};

const exportData = () => {
  // 导出数据逻辑
};
</script>
```

---

## PageLoading - 页面加载

### 📝 描述

全局页面加载组件，提供统一的页面加载状态显示。

### ✨ 特性

- 全屏加载遮罩
- 现代化的加载动画
- 支持自定义加载文本
- 支持深色主题
- 平滑的过渡动画
- 集成状态管理

### 💡 使用示例

```vue
<template>
  <div>
    <!-- 页面内容 -->
    <PageLoading />
  </div>
</template>

<script setup lang="ts">
import { PageLoading } from '@/components';
import { usePageLoading } from '@/composables';

// 使用页面加载状态
const { showPageLoading, hidePageLoading, withPageLoading } = usePageLoading();

// 显示加载
showPageLoading('正在加载数据...');

// 隐藏加载
hidePageLoading();

// 包装异步操作
const loadData = async () => {
  await withPageLoading(async () => {
    // 异步操作
    await fetchData();
  }, '正在加载数据...');
};
</script>
```

---

## UserProfile - 用户资料

### 📝 描述

用户资料展示组件，包含用户信息、统计数据、日历和日程安排。

### ✨ 特性

- 用户头像和基本信息展示
- 统计数据可视化
- 内联日历组件
- 日程安排列表
- 现代化的卡片设计
- 响应式布局
- 支持主题切换

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| user | Object | 默认用户对象 | 用户信息 |
| events | Array | 默认事件列表 | 日程安排 |

### 💡 使用示例

```vue
<template>
  <UserProfile
    :user="userInfo"
    :events="userEvents"
  />
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { UserProfile } from '@/components';

const userInfo = ref({
  name: 'John Doe',
  phone: '(123) 456-7890',
  avatar: 'https://example.com/avatar.jpg',
  stats: {
    progress: 15,
    overdue: 3,
    allDeals: 25
  }
});

const userEvents = ref([
  {
    id: 1,
    time: '9:00 AM - 10:00 AM',
    title: '团队会议',
    avatar: 'https://example.com/avatar1.jpg'
  },
  {
    id: 2,
    time: '2:00 PM - 3:00 PM',
    title: '项目评审'
  }
]);
</script>
```

---

## TableColumnSettings - 表格列设置

### 📝 描述

表格列设置组件，提供列的显示/隐藏、排序、固定等配置功能。

### ✨ 特性

- 列的显示/隐藏控制
- 拖拽排序功能
- 列固定设置（左固定、右固定）
- 表格样式选择
- 表格设置开关
- 现代化的弹窗设计
- 实时预览效果

### 📋 Props

| 属性名 | 类型 | 默认值 | 说明 |
|--------|------|--------|---------|
| columns | TableColumns | [] | 表格列配置 |
| selectedStyle | string | 'normal' | 选中的样式 |
| tableSettings | Object | {} | 表格设置 |

### 🎯 Events

| 事件名 | 参数 | 说明 |
|--------|------|---------|
| update:columns | columns | 列配置更新 |
| column-change | column, type | 列变更事件 |
| style-change | style | 样式变更事件 |
| setting-change | key, value | 设置变更事件 |
| update:selected-style | style | 选中样式更新 |
| update:table-settings | settings | 表格设置更新 |

### 🎨 Slots

| 插槽名 | 参数 | 说明 |
|--------|------|---------|
| column-label | { column } | 自定义列标签 |

### 💡 使用示例

```vue
<template>
  <TableColumnSettings
    ref="columnSettingsRef"
    :columns="columns"
    :selected-style="selectedStyle"
    :table-settings="tableSettings"
    @update:columns="handleColumnsChange"
    @column-change="handleColumnChange"
    @style-change="handleStyleChange"
    @setting-change="handleTableSettingChange"
  >
    <template #column-label="{ column }">
      {{ column.header || column.title || column.field || column.key }}
    </template>
  </TableColumnSettings>
</template>

<script setup lang="ts">
import { ref } from 'vue';
import { TableColumnSettings } from '@/components';

const columnSettingsRef = ref();
const columns = ref([]);
const selectedStyle = ref('normal');
const tableSettings = ref({});

const handleColumnsChange = (newColumns) => {
  columns.value = newColumns;
};

const handleColumnChange = (column, type) => {
  console.log('列变更:', column, type);
};

const handleStyleChange = (style) => {
  selectedStyle.value = style;
};

const handleTableSettingChange = (key, value) => {
  tableSettings.value[key] = value;
};
</script>
```

---

## 🔧 开发指南

### 组件导入

```typescript
// 单个组件导入
import { ConfigurableTable } from '@/components';

// 多个组件导入
import { 
  ConfigurableTable, 
  CustomDrawer, 
  SmartFormField 
} from '@/components';

// 类型导入
import type { 
  TableColumns, 
  FilterConfig, 
  SearchParams 
} from '@/components';
```

### 样式定制

所有组件都基于 PrimeVue 设计系统，支持主题切换和自定义样式：

```scss
// 使用 CSS 变量自定义主色调
:root {
  --p-primary-50: #eff6ff;
  --p-primary-500: #3b82f6;
  --p-primary-600: #2563eb;
}

// 自定义组件样式
.custom-table {
  :deep(.p-datatable) {
    border-radius: 8px;
  }
}
```

### TypeScript 支持

所有组件都提供完整的 TypeScript 类型定义，确保类型安全：

```typescript
import type { TableColumn } from '@/composables/useColumns';

const columns: TableColumn[] = [
  {
    field: 'name',
    header: '姓名',
    sortable: true,
    width: '200px'
  }
];
```

### 最佳实践

1. **组件复用**: 优先使用现有组件，避免重复开发
2. **类型安全**: 使用 TypeScript 类型定义，确保代码质量
3. **性能优化**: 合理使用 v-memo、shallowRef 等优化手段
4. **响应式设计**: 确保组件在不同屏幕尺寸下正常工作
5. **无障碍支持**: 添加适当的 ARIA 标签和键盘导航支持

---

## 📚 相关文档

- [PrimeVue 官方文档](https://primevue.org/)
- [Vue 3 官方文档](https://vuejs.org/)
- [TypeScript 官方文档](https://www.typescriptlang.org/)
- [Tailwind CSS 官方文档](https://tailwindcss.com/)

---

**最后更新时间**: 2024年12月

**版本**: v1.0.0

**维护者**: Sakai Vue 开发团队